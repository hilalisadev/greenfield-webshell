!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=8)}([function(t,e,n){t.exports=n(9)},,,,,,,,function(t,e,n){t.exports=n(11)},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(10),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=d;var f={},l={};l[i]=function(){return this};var p=Object.getPrototypeOf,h=p&&p(p(E([])));h&&h!==n&&r.call(h,i)&&(l=h);var y=m.prototype=w.prototype=Object.create(l);v.prototype=y.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},c.awrap=function(t){return{__await:t}},O(_.prototype),_.prototype[a]=function(){return this},c.AsyncIterator=_,c.async=function(t,e,n,r){var o=new _(d(t,e,n,r));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=E,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}}}function d(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=b(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function v(){}function m(){}function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var s=b(t[n],t,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(c).then((function(t){u.value=t,i(u)}),a)}a(s.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=b(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return Pn})),n.d(r,"clone",(function(){return Tn})),n.d(r,"copy",(function(){return kn})),n.d(r,"fromValues",(function(){return Sn})),n.d(r,"set",(function(){return An})),n.d(r,"identity",(function(){return Cn})),n.d(r,"transpose",(function(){return Rn})),n.d(r,"invert",(function(){return Dn})),n.d(r,"adjoint",(function(){return Ln})),n.d(r,"determinant",(function(){return zn})),n.d(r,"multiply",(function(){return Fn})),n.d(r,"translate",(function(){return In})),n.d(r,"scale",(function(){return Bn})),n.d(r,"rotate",(function(){return Nn})),n.d(r,"rotateX",(function(){return Un})),n.d(r,"rotateY",(function(){return Gn})),n.d(r,"rotateZ",(function(){return Vn})),n.d(r,"fromTranslation",(function(){return qn})),n.d(r,"fromScaling",(function(){return Yn})),n.d(r,"fromRotation",(function(){return Wn})),n.d(r,"fromXRotation",(function(){return Hn})),n.d(r,"fromYRotation",(function(){return Xn})),n.d(r,"fromZRotation",(function(){return Kn})),n.d(r,"fromRotationTranslation",(function(){return Qn})),n.d(r,"fromQuat2",(function(){return Zn})),n.d(r,"getTranslation",(function(){return $n})),n.d(r,"getScaling",(function(){return Jn})),n.d(r,"getRotation",(function(){return tr})),n.d(r,"fromRotationTranslationScale",(function(){return er})),n.d(r,"fromRotationTranslationScaleOrigin",(function(){return nr})),n.d(r,"fromQuat",(function(){return rr})),n.d(r,"frustum",(function(){return or})),n.d(r,"perspective",(function(){return ir})),n.d(r,"perspectiveFromFieldOfView",(function(){return ar})),n.d(r,"ortho",(function(){return sr})),n.d(r,"lookAt",(function(){return ur})),n.d(r,"targetTo",(function(){return cr})),n.d(r,"str",(function(){return fr})),n.d(r,"frob",(function(){return lr})),n.d(r,"add",(function(){return pr})),n.d(r,"subtract",(function(){return hr})),n.d(r,"multiplyScalar",(function(){return yr})),n.d(r,"multiplyScalarAndAdd",(function(){return dr})),n.d(r,"exactEquals",(function(){return br})),n.d(r,"equals",(function(){return wr})),n.d(r,"mul",(function(){return vr})),n.d(r,"sub",(function(){return mr}));var o={};n.r(o),n.d(o,"create",(function(){return Or})),n.d(o,"clone",(function(){return _r})),n.d(o,"length",(function(){return xr})),n.d(o,"fromValues",(function(){return gr})),n.d(o,"copy",(function(){return jr})),n.d(o,"set",(function(){return Mr})),n.d(o,"add",(function(){return Er})),n.d(o,"subtract",(function(){return Pr})),n.d(o,"multiply",(function(){return Tr})),n.d(o,"divide",(function(){return kr})),n.d(o,"ceil",(function(){return Sr})),n.d(o,"floor",(function(){return Ar})),n.d(o,"min",(function(){return Cr})),n.d(o,"max",(function(){return Rr})),n.d(o,"round",(function(){return Dr})),n.d(o,"scale",(function(){return Lr})),n.d(o,"scaleAndAdd",(function(){return zr})),n.d(o,"distance",(function(){return Fr})),n.d(o,"squaredDistance",(function(){return Ir})),n.d(o,"squaredLength",(function(){return Br})),n.d(o,"negate",(function(){return Nr})),n.d(o,"inverse",(function(){return Ur})),n.d(o,"normalize",(function(){return Gr})),n.d(o,"dot",(function(){return Vr})),n.d(o,"cross",(function(){return qr})),n.d(o,"lerp",(function(){return Yr})),n.d(o,"hermite",(function(){return Wr})),n.d(o,"bezier",(function(){return Hr})),n.d(o,"random",(function(){return Xr})),n.d(o,"transformMat4",(function(){return Kr})),n.d(o,"transformMat3",(function(){return Qr})),n.d(o,"transformQuat",(function(){return Zr})),n.d(o,"rotateX",(function(){return $r})),n.d(o,"rotateY",(function(){return Jr})),n.d(o,"rotateZ",(function(){return to})),n.d(o,"angle",(function(){return eo})),n.d(o,"zero",(function(){return no})),n.d(o,"str",(function(){return ro})),n.d(o,"exactEquals",(function(){return oo})),n.d(o,"equals",(function(){return io})),n.d(o,"sub",(function(){return so})),n.d(o,"mul",(function(){return uo})),n.d(o,"div",(function(){return co})),n.d(o,"dist",(function(){return fo})),n.d(o,"sqrDist",(function(){return lo})),n.d(o,"len",(function(){return po})),n.d(o,"sqrLen",(function(){return ho})),n.d(o,"forEach",(function(){return yo}));var i=n(0),a=n.n(i);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._raw=e}return(t.parse=function(e){return new t(256*e>>0)},t.prototype.asInt=function(){return this._raw/256>>0},t.prototype.asDouble=function(){return this._raw/256},t)}();var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wlObjects={},this.closed=!1,this._outMessages=[],this._inMessages=[]}var e,n;return t.uint=function(t){return{value:t,type:"u",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.uintOptional=function(t){return{value:t,type:"u",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}},t.fileDescriptor=function(t){return{value:t,type:"h",size:0,optional:!1,_marshallArg:function(t){t.fds.push(this.value)}}},t.fileDescriptorOptional=function(t){return{value:t,type:"h",size:0,optional:!0,_marshallArg:function(t){t.fds.push(this.value)}}},t.int=function(t){return{value:t,type:"i",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.intOptional=function(t){return{value:t,type:"i",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}},t.fixed=function(t){return{value:t,type:"f",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value._raw,t.bufferOffset+=this.size}}},t.fixedOptional=function(t){return{value:t,type:"f",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value._raw,e.bufferOffset+=this.size}}},t.object=function(t){return{value:t,type:"o",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.id,t.bufferOffset+=this.size}}},t.objectOptional=function(t){return{value:t,type:"o",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value.id,e.bufferOffset+=this.size}}},t.newObject=function(){return{value:0,type:"n",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.string=function(t){return{value:t+"\0",type:"s",size:4+(t.length+1+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var e=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,e),r=0;r<e;r++)n[r]=this.value[r].codePointAt(0);t.bufferOffset+=this.size}}},t.stringOptional=function(t){return{value:t+"\0",type:"s",size:4+(null===t?0:t.length+1+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var e=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,e),r=0;r<e;r++)n[r]=this.value[r].codePointAt(0)}t.bufferOffset+=this.size}}},t.array=function(t){return{value:t,type:"a",size:4+(t.byteLength+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e)),t.bufferOffset+=this.size}}},t.arrayOptional=function(t){return{value:t,type:"a",size:4+(null===t?0:t.byteLength+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e))}t.bufferOffset+=this.size}}},t._checkMessageSize=function(t,e){if(t.consumed+e>t.size)throw new Error("Request too short.");t.consumed+=e},t.u=function(e){return t._checkMessageSize(e,4),e.buffer[e.bufferOffset++]},t.i=function(e){t._checkMessageSize(e,4);var n=new Int32Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return e.bufferOffset+=1,n},t.f=function(e){t._checkMessageSize(e,4);var n=new Int32Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return e.bufferOffset+=1,new s(n>>0)},t.o=function(e,n,r){t._checkMessageSize(e,4);var o=e.buffer[e.bufferOffset++];if(n&&0===o)return null;var i=r.wlObjects[o];if(i)return i;throw new Error("Unknown object id "+o)},t.n=function(e){return t._checkMessageSize(e,4),e.buffer[e.bufferOffset++]},t.s=function(e,n){t._checkMessageSize(e,4);var r=e.buffer[e.bufferOffset++];if(n&&0===r)return null;var o=r+3&-4;t._checkMessageSize(e,o);var i=new Uint8Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,r-1);return e.bufferOffset+=o/4,String.fromCharCode.apply(String,i)},t.a=function(e,n){t._checkMessageSize(e,4);var r=e.buffer[e.bufferOffset++];if(n&&0===r)return null;var o=r+3&-4;t._checkMessageSize(e,o);var i=e.buffer.buffer.slice(e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT+r);return e.bufferOffset+=o,i},t.h=function(t){if(t.fds.length>0)return t.fds.shift();throw new Error("Not enough file descriptors in message object.")},t.prototype.marshallMsg=function(t,e,n,r){var o={buffer:new ArrayBuffer(n),fds:[],bufferOffset:0},i=new Uint32Array(o.buffer),a=new Uint16Array(o.buffer);i[0]=t,a[2]=e,a[3]=n,o.bufferOffset=8,r.forEach((function(t){return t._marshallArg(o)})),this.onSend(o)},t.prototype.message=(e=a.a.mark((function t(e){var n,r,o,i,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed){t.next=2;break}return t.abrupt("return");case 2:if(!(this._inMessages.push(e)>1)){t.next=4;break}return t.abrupt("return");case 4:if(!this._inMessages.length){t.next=40;break}(n=this._inMessages[0]).bufferOffset=0,n.consumed=0,n.size=0;case 9:if(!(n.bufferOffset<n.buffer.length)){t.next=37;break}if(r=n.buffer[n.bufferOffset],o=n.buffer[n.bufferOffset+1],n.size=o>>>16,i=65535&o,!(n.size>n.buffer.byteLength)){t.next=16;break}throw new Error("Request buffer too small");case 16:if(!(s=this.wlObjects[r])){t.next=34;break}return n.bufferOffset+=2,n.consumed=8,t.prev=20,t.next=23,s[i](n);case 23:t.next=30;break;case 25:throw t.prev=25,t.t0=t.catch(20),console.error("\nwlObject: "+s.constructor.name+"["+i+"](..)\nname: "+t.t0.name+" message: "+t.t0.message+" text: "+t.t0.text+"\nerror object stack: \n"+t.t0.stack+"\n"),this.close(),t.t0;case 30:if(!this.closed){t.next=32;break}return t.abrupt("return");case 32:t.next=35;break;case 34:throw new Error("invalid object "+r);case 35:t.next=9;break;case 37:this._inMessages.shift(),t.next=4;break;case 40:this.flush();case 41:case"end":return t.stop()}}),t,this,[[20,25]])})),n=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return n.apply(this,arguments)}),t.prototype.onSend=function(t){this.closed||this._outMessages.push(t)},t.prototype.flush=function(){this.closed||0!==this._outMessages.length&&(this.onFlush(this._outMessages),this._outMessages=[])},t.prototype.onFlush=function(t){},t.prototype.close=function(){this.closed||(Object.values(this.wlObjects).sort((function(t,e){return t.id-e.id})).forEach((function(t){return t.destroy()})),this._outMessages=null,this._inMessages=null,this.closed=!0)},t.prototype.registerWlObject=function(t){if(!this.closed){if(t.id in this.wlObjects)throw new Error("Illegal object id: "+t.id+". Already registered.");this.wlObjects[t.id]=t}},t.prototype.unregisterWlObject=function(t){this.closed||delete this.wlObjects[t.id]},t}();var c=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fd=e,this.type=n,this.url=r,this._onGetTransferable=o,this._onClose=i}var e,n;return t.prototype.getTransferable=(e=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._onGetTransferable(this);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})),n=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(){return n.apply(this,arguments)}),t.prototype.close=function(){this._onClose(this)},t}();var f=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this._destroyPromise=new Promise((function(t){return n._destroyResolver=t})),this._destroyListeners=[],this._destroyPromise.then((function(){return n._destroyListeners.forEach((function(t){return t(n)}))}))}return t.prototype.destroy=function(){this._destroyResolver()},t.prototype.addDestroyListener=function(t){this._destroyListeners.push(t)},t.prototype.removeDestroyListener=function(t){this._destroyListeners=this._destroyListeners.filter((function(e){return e!==t}))},t.prototype.onDestroy=function(){return this._destroyPromise},t}();var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._fdDomainUUID=e,this._webFDs={},this._nextFD=0}return t.create=function(e){return new t(e)},t.prototype.fromArrayBuffer=function(t){var e=this,n=this._nextFD++,r=new URL("client://");r.searchParams.append("fd",""+n),r.searchParams.append("type","ArrayBuffer"),r.searchParams.append("clientId",this._fdDomainUUID);var o=new c(n,"ArrayBuffer",r,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=o,o},t.prototype.fromImageBitmap=function(t){var e=this,n=this._nextFD++,r=new URL("client://");r.searchParams.append("fd",""+n),r.searchParams.append("type","ImageBitmap"),r.searchParams.append("clientId",this._fdDomainUUID);var o=new c(n,"ImageBitmap",r,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=o,o},t.prototype.fromOffscreenCanvas=function(t){var e=this,n=this._nextFD++,r="OffscreenCanvas",o=new URL("client://");o.searchParams.append("fd",""+n),o.searchParams.append("type",r),o.searchParams.append("clientId",this._fdDomainUUID);var i=new c(n,r,o,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=i,i},t.prototype.getWebFD=function(t){return this._webFDs[t]},t}();var p=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return i.display=n,i._connection=r,r.registerWlObject(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._connection.unregisterWlObject(this)},e.prototype._marshallConstructor=function(t,e,n,r){var o=new n(this.display,this._connection,this.display.generateNextId()),i=8;return r.forEach((function(t){"n"===t.type&&(t.value=o.id),i+=t.size})),this._connection.marshallMsg(t,e,i,r),o},e.prototype._marshall=function(t,e,n){var r=8;n.forEach((function(t){return r+=t.size})),this._connection.marshallMsg(t,e,r,n)},e}(f);u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h;var h=u.u,y=(u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done(h(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p));y.protocolName="wl_callback";var d=y;function b(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var w=u.uint,v=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject),m=u.string,O=(u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),_=(u.i,u.f,u.o,u.n,u.s),x=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.bind=function(t,e,n,r){return this._marshallConstructor(this.id,0,n,[w(t),m(e),w(r),v()])},e.prototype[0]=(n=b(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.global(O(e),_(e,!1),O(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=b(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.globalRemove(O(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p));x.protocolName="wl_registry";var g=x;function j(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional;var M=u.newObject,E=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),P=(u.i,u.f,u.o),T=(u.n,u.s),k=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.sync=function(){return this._marshallConstructor(this.id,0,d,[M()])},e.prototype.getRegistry=function(){return this._marshallConstructor(this.id,1,g,[M()])},e.prototype[0]=(n=j(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.error(P(e,!1,this._connection),E(e),T(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=j(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.deleteId(E(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p));k.protocolName="wl_display",k.Error={invalidObject:0,invalidMethod:1,noMemory:2};var S=k;var A=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._recycledIds=[],this._connection=e,this._displayProxy=new S(this,this._connection,1),this._lastId=1,this._destroyResolve=null,this._destroyReject=null,this._destroyPromise=new Promise((function(t,e){n._destroyResolve=t,n._destroyReject=e})),this._displayProxy.listener={deleteId:function(t){n._recycledIds.push(t)},error:function(t,e,r){n._protocolError(t,e,r)}},this.errorHandler=null}return t.prototype.close=function(){this._connection.closed||(this._connection.close(),this._destroyResolve())},t.prototype._protocolError=function(t,e,n){this._connection.closed||(this._connection.close(),this._destroyReject(new Error("Protocol error. type: "+t.constructor.name+", id: "+t.id+", code: "+e+", message: "+n)))},t.prototype.onClose=function(){return this._destroyPromise},t.prototype.getRegistry=function(){return this._displayProxy.getRegistry()},t.prototype.generateNextId=function(){return this._recycledIds.length?this._recycledIds.shift():++this._lastId},t.prototype.sync=function(){var t=this;return new Promise((function(e){var n=t._displayProxy.sync();n.listener={done:function(t){e(t),n.destroy()}}}))},t.prototype.flush=function(){this._connection.flush()},t}();function C(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var R=u.uint,D=(u.uintOptional,u.int),L=(u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional),z=u.newObject,F=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o),I=(u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.attach=function(t,e,n){this._marshall(this.id,1,[L(t),D(e),D(n)])},e.prototype.damage=function(t,e,n,r){this._marshall(this.id,2,[D(t),D(e),D(n),D(r)])},e.prototype.frame=function(){return this._marshallConstructor(this.id,3,d,[z()])},e.prototype.setOpaqueRegion=function(t){this._marshall(this.id,4,[L(t)])},e.prototype.setInputRegion=function(t){this._marshall(this.id,5,[L(t)])},e.prototype.commit=function(t){this._marshall(this.id,6,[R(t)])},e.prototype.setBufferTransform=function(t){this._marshall(this.id,7,[D(t)])},e.prototype.setBufferScale=function(t){this._marshall(this.id,8,[D(t)])},e.prototype.damageBuffer=function(t,e,n,r){this._marshall(this.id,9,[D(t),D(e),D(n),D(r)])},e.prototype[0]=(n=C(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(F(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=C(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(F(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p));I.protocolName="wl_surface",I.Error={invalidScale:0,invalidTransform:1};var B=I;u.uint,u.uintOptional;var N=u.int,U=(u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.add=function(t,e,n,r){this._marshall(this.id,1,[N(t),N(e),N(n),N(r)])},e.prototype.subtract=function(t,e,n,r){this._marshall(this.id,2,[N(t),N(e),N(n),N(r)])},e}(p));U.protocolName="wl_region";var G=U;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional;var V=u.newObject,q=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createSurface=function(){return this._marshallConstructor(this.id,0,B,[V()])},e.prototype.createRegion=function(){return this._marshallConstructor(this.id,1,G,[V()])},e}(p));q.protocolName="wl_compositor";var Y=q;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a;var W=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.release();case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p);W.protocolName="wl_buffer";var H=W;function X(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var K=u.uint,Q=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string),Z=u.stringOptional,$=(u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor),J=(u.h,u.u),tt=(u.i,u.f,u.o,u.n,u.s),et=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.accept=function(t,e){this._marshall(this.id,0,[K(t),Z(e)])},e.prototype.receive=function(t,e){this._marshall(this.id,1,[Q(t),$(e)])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e.prototype.finish=function(){this._marshall(this.id,3,[])},e.prototype.setActions=function(t,e){this._marshall(this.id,4,[K(t),K(e)])},e.prototype[0]=(n=X(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offer(tt(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=X(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.sourceActions(J(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=X(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(J(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e}(p));et.protocolName="wl_data_offer",et.Error={invalidFinish:0,invalidActionMask:1,invalidAction:2,invalidOffer:3};var nt=et;function rt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var ot=u.uint,it=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string),at=(u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h),st=u.u,ut=(u.i,u.f,u.o,u.n,u.s),ct=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.offer=function(t){this._marshall(this.id,0,[it(t)])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e.prototype.setActions=function(t){this._marshall(this.id,2,[ot(t)])},e.prototype[0]=(n=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.target(ut(e,!0));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.send(ut(e,!1),at(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancelled();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndDropPerformed();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[4]=(s=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndFinished();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(u=rt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(st(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e}(p));ct.protocolName="wl_data_source",ct.Error={invalidActionMask:0,invalidSource:1};var ft=ct;function lt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var pt=u.uint,ht=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object),yt=u.objectOptional,dt=(u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),bt=(u.i,u.f),wt=u.o,vt=u.n,mt=(u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDrag=function(t,e,n,r){this._marshall(this.id,0,[yt(t),ht(e),yt(n),pt(r)])},e.prototype.setSelection=function(t,e){this._marshall(this.id,1,[yt(t),pt(e)])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e.prototype[0]=(n=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dataOffer(new nt(this._connection,vt(e)));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(dt(e),wt(e,!1,this._connection),bt(e),bt(e),wt(e,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(dt(e),bt(e),bt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[4]=(s=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.drop();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(u=lt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.selection(wt(e,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e}(p));mt.protocolName="wl_data_device",mt.Error={role:0};var Ot=mt;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional;var _t=u.object,xt=(u.objectOptional,u.newObject),gt=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createDataSource=function(){return this._marshallConstructor(this.id,0,ft,[xt()])},e.prototype.getDataDevice=function(t){return this._marshallConstructor(this.id,1,Ot,[xt(),_t(t)])},e}(p));gt.protocolName="wl_data_device_manager",gt.DndAction={none:0,copy:1,move:2,ask:4};function jt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Mt=u.uint,Et=(u.uintOptional,u.int),Pt=(u.intOptional,u.fixed,u.fixedOptional,u.object),Tt=u.objectOptional,kt=(u.newObject,u.string),St=(u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),At=u.i,Ct=(u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pong=function(t){this._marshall(this.id,0,[Mt(t)])},e.prototype.move=function(t,e){this._marshall(this.id,1,[Pt(t),Mt(e)])},e.prototype.resize=function(t,e,n){this._marshall(this.id,2,[Pt(t),Mt(e),Mt(n)])},e.prototype.setToplevel=function(){this._marshall(this.id,3,[])},e.prototype.setTransient=function(t,e,n,r){this._marshall(this.id,4,[Pt(t),Et(e),Et(n),Mt(r)])},e.prototype.setFullscreen=function(t,e,n){this._marshall(this.id,5,[Mt(t),Mt(e),Tt(n)])},e.prototype.setPopup=function(t,e,n,r,o,i){this._marshall(this.id,6,[Pt(t),Mt(e),Pt(n),Et(r),Et(o),Mt(i)])},e.prototype.setMaximized=function(t){this._marshall(this.id,7,[Tt(t)])},e.prototype.setTitle=function(t){this._marshall(this.id,8,[kt(t)])},e.prototype.setClass=function(t){this._marshall(this.id,9,[kt(t)])},e.prototype[0]=(n=jt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(St(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=jt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(St(e),At(e),At(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=jt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e}(p));Ct.protocolName="wl_shell_surface",Ct.Resize={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Ct.Transient={inactive:1},Ct.FullscreenMethod={default:0,scale:1,driver:2,fill:3};var Rt=Ct;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional;var Dt=u.object,Lt=(u.objectOptional,u.newObject),zt=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getShellSurface=function(t){return this._marshallConstructor(this.id,0,Rt,[Lt(),Dt(t)])},e}(p));zt.protocolName="wl_shell",zt.Error={role:0};var Ft=zt;function It(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Bt=u.uint,Nt=(u.uintOptional,u.int),Ut=(u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional),Gt=(u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),Vt=u.i,qt=u.f,Yt=u.o,Wt=(u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i,s,u,c,f,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setCursor=function(t,e,n,r){this._marshall(this.id,0,[Bt(t),Ut(e),Nt(n),Nt(r)])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e.prototype[0]=(n=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(Gt(e),Yt(e,!1,this._connection),qt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(Gt(e),Yt(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(Gt(e),qt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.button(Gt(e),Gt(e),Gt(e),Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[4]=(s=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axis(Gt(e),Gt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(u=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e.prototype[6]=(c=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisSource(Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e.prototype[7]=(f=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisStop(Gt(e),Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)}),e.prototype[8]=(l=It(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisDiscrete(Gt(e),Vt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)}),e}(p));Wt.protocolName="wl_pointer",Wt.Error={role:0},Wt.ButtonState={released:0,pressed:1},Wt.Axis={verticalScroll:0,horizontalScroll:1},Wt.AxisSource={wheel:0,finger:1,continuous:2,wheelTilt:3};var Ht=Wt;function Xt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor;var Kt=u.h,Qt=u.u,Zt=u.i,$t=(u.f,u.o),Jt=(u.n,u.s,u.a),te=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.keymap(Qt(e),Kt(e),Qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(Qt(e),$t(e,!1,this._connection),Jt(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(Qt(e),$t(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.key(Qt(e),Qt(e),Qt(e),Qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[4]=(s=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.modifiers(Qt(e),Qt(e),Qt(e),Qt(e),Qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(u=Xt(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.repeatInfo(Zt(e),Zt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e}(p);te.protocolName="wl_keyboard",te.KeymapFormat={noKeymap:0,xkbV1:1},te.KeyState={released:0,pressed:1};var ee=te;function ne(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h;var re=u.u,oe=u.i,ie=u.f,ae=u.o,se=(u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i,s,u,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.down(re(e),re(e),ae(e,!1,this._connection),oe(e),ie(e),ie(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.up(re(e),re(e),oe(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(re(e),oe(e),ie(e),ie(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[4]=(s=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancel();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(u=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.shape(oe(e),ie(e),ie(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e.prototype[6]=(c=ne(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.orientation(oe(e),ie(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e}(p));se.protocolName="wl_touch";var ue=se;function ce(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional;var fe=u.newObject,le=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),pe=(u.i,u.f,u.o,u.n,u.s),he=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getPointer=function(){return this._marshallConstructor(this.id,0,Ht,[fe()])},e.prototype.getKeyboard=function(){return this._marshallConstructor(this.id,1,ee,[fe()])},e.prototype.getTouch=function(){return this._marshallConstructor(this.id,2,ue,[fe()])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,3,[])},e.prototype[0]=(n=ce(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.capabilities(le(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=ce(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.name(pe(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p));he.protocolName="wl_seat",he.Capability={pointer:1,keyboard:2,touch:4};var ye=he;function de(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h;var be=u.u,we=u.i,ve=(u.f,u.o,u.n,u.s),me=(u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=de(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.geometry(we(e),we(e),we(e),we(e),we(e),ve(e,!1),ve(e,!1),we(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=de(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.mode(be(e),we(e),we(e),we(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(o=de(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),e.prototype[3]=(i=de(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.scale(we(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e}(p));me.protocolName="wl_output",me.Subpixel={unknown:0,none:1,horizontalRgb:2,horizontalBgr:3,verticalRgb:4,verticalBgr:5},me.Transform={normal:0,90:1,180:2,270:3,flipped:4,flipped90:5,flipped180:6,flipped270:7},me.Mode={current:1,preferred:2};u.uint,u.uintOptional;var Oe=u.int,_e=(u.intOptional,u.fixed,u.fixedOptional,u.object),xe=(u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setPosition=function(t,e){this._marshall(this.id,1,[Oe(t),Oe(e)])},e.prototype.placeAbove=function(t){this._marshall(this.id,2,[_e(t)])},e.prototype.placeBelow=function(t){this._marshall(this.id,3,[_e(t)])},e.prototype.setSync=function(){this._marshall(this.id,4,[])},e.prototype.setDesync=function(){this._marshall(this.id,5,[])},e}(p));xe.protocolName="wl_subsurface",xe.Error={badSurface:0};var ge=xe;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional;var je=u.object,Me=(u.objectOptional,u.newObject),Ee=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.getSubsurface=function(t,e){return this._marshallConstructor(this.id,1,ge,[Me(),je(t),je(e)])},e}(p));Ee.protocolName="wl_subcompositor",Ee.Error={badSurface:0};!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.error=function(t,e,n){},t.prototype.deleteId=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.global=function(t,e,n){},t.prototype.globalRemove=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.done=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.release=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.offer=function(t){},t.prototype.sourceActions=function(t){},t.prototype.action=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.target=function(t){},t.prototype.send=function(t,e){},t.prototype.cancelled=function(){},t.prototype.dndDropPerformed=function(){},t.prototype.dndFinished=function(){},t.prototype.action=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.dataOffer=function(t){},t.prototype.enter=function(t,e,n,r,o){},t.prototype.leave=function(){},t.prototype.motion=function(t,e,n){},t.prototype.drop=function(){},t.prototype.selection=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.ping=function(t){},t.prototype.configure=function(t,e,n){},t.prototype.popupDone=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.enter=function(t){},t.prototype.leave=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.capabilities=function(t){},t.prototype.name=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.enter=function(t,e,n,r){},t.prototype.leave=function(t,e){},t.prototype.motion=function(t,e,n){},t.prototype.button=function(t,e,n,r){},t.prototype.axis=function(t,e,n){},t.prototype.frame=function(){},t.prototype.axisSource=function(t){},t.prototype.axisStop=function(t,e){},t.prototype.axisDiscrete=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.keymap=function(t,e,n){},t.prototype.enter=function(t,e,n){},t.prototype.leave=function(t,e){},t.prototype.key=function(t,e,n,r){},t.prototype.modifiers=function(t,e,n,r,o){},t.prototype.repeatInfo=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.down=function(t,e,n,r,o,i){},t.prototype.up=function(t,e,n){},t.prototype.motion=function(t,e,n,r){},t.prototype.frame=function(){},t.prototype.cancel=function(){},t.prototype.shape=function(t,e,n){},t.prototype.orientation=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.geometry=function(t,e,n,r,o,i,a,s){},t.prototype.mode=function(t,e,n,r){},t.prototype.done=function(){},t.prototype.scale=function(t){}}();var Pe=u.uint,Te=(u.uintOptional,u.int),ke=(u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setSize=function(t,e){this._marshall(this.id,1,[Te(t),Te(e)])},e.prototype.setAnchorRect=function(t,e,n,r){this._marshall(this.id,2,[Te(t),Te(e),Te(n),Te(r)])},e.prototype.setAnchor=function(t){this._marshall(this.id,3,[Pe(t)])},e.prototype.setGravity=function(t){this._marshall(this.id,4,[Pe(t)])},e.prototype.setConstraintAdjustment=function(t){this._marshall(this.id,5,[Pe(t)])},e.prototype.setOffset=function(t,e){this._marshall(this.id,6,[Te(t),Te(e)])},e}(p));ke.protocolName="xdg_positioner",ke.Error={invalidInput:0},ke.Anchor={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},ke.Gravity={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},ke.ConstraintAdjustment={none:0,slideX:1,slideY:2,flipX:4,flipY:8,resizeX:16,resizeY:32};var Se=ke;function Ae(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Ce=u.uint,Re=(u.uintOptional,u.int),De=(u.intOptional,u.fixed,u.fixedOptional,u.object),Le=u.objectOptional,ze=(u.newObject,u.string),Fe=(u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i),Ie=(u.f,u.o,u.n,u.s,u.a),Be=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setParent=function(t){this._marshall(this.id,1,[Le(t)])},e.prototype.setTitle=function(t){this._marshall(this.id,2,[ze(t)])},e.prototype.setAppId=function(t){this._marshall(this.id,3,[ze(t)])},e.prototype.showWindowMenu=function(t,e,n,r){this._marshall(this.id,4,[De(t),Ce(e),Re(n),Re(r)])},e.prototype.move=function(t,e){this._marshall(this.id,5,[De(t),Ce(e)])},e.prototype.resize=function(t,e,n){this._marshall(this.id,6,[De(t),Ce(e),Ce(n)])},e.prototype.setMaxSize=function(t,e){this._marshall(this.id,7,[Re(t),Re(e)])},e.prototype.setMinSize=function(t,e){this._marshall(this.id,8,[Re(t),Re(e)])},e.prototype.setMaximized=function(){this._marshall(this.id,9,[])},e.prototype.unsetMaximized=function(){this._marshall(this.id,10,[])},e.prototype.setFullscreen=function(t){this._marshall(this.id,11,[Le(t)])},e.prototype.unsetFullscreen=function(){this._marshall(this.id,12,[])},e.prototype.setMinimized=function(){this._marshall(this.id,13,[])},e.prototype[0]=(n=Ae(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Fe(e),Fe(e),Ie(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Ae(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.close();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p);Be.protocolName="xdg_toplevel",Be.ResizeEdge={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Be.State={maximized:1,fullscreen:2,resizing:3,activated:4};var Ne=Be;function Ue(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Ge=u.uint,Ve=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object),qe=(u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i),Ye=(u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.grab=function(t,e){this._marshall(this.id,1,[Ve(t),Ge(e)])},e.prototype[0]=(n=Ue(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(qe(e),qe(e),qe(e),qe(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Ue(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(p));Ye.protocolName="xdg_popup",Ye.Error={invalidGrab:0};var We=Ye;var He=u.uint,Xe=(u.uintOptional,u.int),Ke=(u.intOptional,u.fixed,u.fixedOptional,u.object),Qe=u.objectOptional,Ze=u.newObject,$e=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),Je=(u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.getToplevel=function(){return this._marshallConstructor(this.id,1,Ne,[Ze()])},e.prototype.getPopup=function(t,e){return this._marshallConstructor(this.id,2,We,[Ze(),Qe(t),Ke(e)])},e.prototype.setWindowGeometry=function(t,e,n,r){this._marshall(this.id,3,[Xe(t),Xe(e),Xe(n),Xe(r)])},e.prototype.ackConfigure=function(t){this._marshall(this.id,4,[He(t)])},e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure($e(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p));Je.protocolName="xdg_surface",Je.Error={notConstructed:1,alreadyConstructed:2,unconfiguredBuffer:3};var tn=Je;var en=u.uint,nn=(u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object),rn=(u.objectOptional,u.newObject),on=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u),an=(u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.createPositioner=function(){return this._marshallConstructor(this.id,1,Se,[rn()])},e.prototype.getXdgSurface=function(t){return this._marshallConstructor(this.id,2,tn,[rn(),nn(t)])},e.prototype.pong=function(t){this._marshall(this.id,3,[en(t)])},e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(on(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p));an.protocolName="xdg_wm_base",an.Error={role:0,defunctSurfaces:1,notTheTopmostPopup:2,invalidPopupParent:3,invalidSurfaceState:4,invalidPositioner:5};!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.ping=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t,e,n){},t.prototype.close=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t,e,n,r){},t.prototype.popupDone=function(){}}();u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional;var sn=u.fileDescriptor,un=u.h,cn=(u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.attach=function(t){this._marshall(this.id,0,[sn(t)])},e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.detach(un(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p));cn.protocolName="gr_web_shm_buffer";var fn=cn;u.uint,u.uintOptional;var ln=u.int,pn=(u.intOptional,u.fixed,u.fixedOptional,u.object),hn=(u.objectOptional,u.newObject),yn=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createWebArrayBuffer=function(){return this._marshallConstructor(this.id,0,fn,[hn()])},e.prototype.createBuffer=function(t,e,n){return this._marshallConstructor(this.id,1,H,[hn(),pn(t),ln(e),ln(n)])},e}(p));yn.protocolName="gr_web_shm";!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.detach=function(t){}}();u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional,u.object,u.objectOptional,u.newObject,u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor;var dn=u.h,bn=(u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype[0]=(n=a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offscreenCanvas(dn(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(p));bn.protocolName="gr_web_gl_buffer";var wn=bn;u.uint,u.uintOptional,u.int,u.intOptional,u.fixed,u.fixedOptional;var vn=u.object,mn=(u.objectOptional,u.newObject),On=(u.string,u.stringOptional,u.array,u.arrayOptional,u.fileDescriptorOptional,u.fileDescriptor,u.h,u.u,u.i,u.f,u.o,u.n,u.s,u.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createWebGlBuffer=function(){return this._marshallConstructor(this.id,0,wn,[mn()])},e.prototype.createBuffer=function(t){return this._marshallConstructor(this.id,1,H,[mn(),vn(t)])},e}(p));On.protocolName="gr_web_gl";var _n=On;!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.offscreenCanvas=function(t){}}();var xn=l.create(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^self.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),gn=new u,jn=new A(gn);!function(t,e,n){var r,o,i=this,s=[];onmessage=function(r){if(!e.closed){var o=r.data;if(o.protocolMessage instanceof ArrayBuffer){var i=new Uint32Array(o.protocolMessage),a=o.meta.map((function(t){return t instanceof ArrayBuffer?n.fromArrayBuffer(t):t instanceof ImageBitmap?n.fromImageBitmap(t):t instanceof OffscreenCanvas?n.fromOffscreenCanvas(t):(console.warn("COMPOSITOR BUG? Unsupported transferable received from compositor: "+t+". WebFD will be null."),null)}));try{e.message({buffer:i,fds:a})}catch(e){t.errorHandler&&"function"==typeof t.errorHandler?t.errorHandler(e):(console.error("\tname: "+e.name+" message: "+e.message+" text: "+e.text),console.error("error object stack: "),console.error(e.stack))}}else console.error("[web-worker-client] server send an illegal message."),e.close()}},e.onFlush=(r=a.a.mark((function t(e){var n,r,o,u,c,f,l,p,h,y,d,b,w,v,m,O,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.push(e),!(s.length>1)){t.next=3;break}return t.abrupt("return");case 3:if(!s.length){t.next=48;break}n=s[0],r=n.reduce((function(t,e){return t+e.buffer.byteLength}),0),o=new Uint32Array(new ArrayBuffer(r)),u=0,c=[],f=n,l=Array.isArray(f),p=0,f=l?f:f[Symbol.iterator]();case 10:if(!l){t.next=16;break}if(!(p>=f.length)){t.next=13;break}return t.abrupt("break",44);case 13:h=f[p++],t.next=20;break;case 16:if(!(p=f.next()).done){t.next=19;break}return t.abrupt("break",44);case 19:h=p.value;case 20:d=(y=h).fds,b=Array.isArray(d),w=0,d=b?d:d[Symbol.iterator]();case 22:if(!b){t.next=28;break}if(!(w>=d.length)){t.next=25;break}return t.abrupt("break",39);case 25:v=d[w++],t.next=32;break;case 28:if(!(w=d.next()).done){t.next=31;break}return t.abrupt("break",39);case 31:v=w.value;case 32:return m=v,t.next=35,m.getTransferable();case 35:O=t.sent,c.push(O);case 37:t.next=22;break;case 39:_=new Uint32Array(y.buffer),o.set(_,u),u+=_.length;case 42:t.next=10;break;case 44:postMessage({protocolMessage:o.buffer,meta:c},[o.buffer].concat(c)),s.shift(),t.next=3;break;case 48:case"end":return t.stop()}}),t,i)})),o=function(){var t=r.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return o.apply(this,arguments)})}(jn,gn,xn);var Mn="undefined"!=typeof Float32Array?Float32Array:Array,En=Math.random;Math.PI;function Pn(){var t=new Mn(16);return Mn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Tn(t){var e=new Mn(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function kn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Sn(t,e,n,r,o,i,a,s,u,c,f,l,p,h,y,d){var b=new Mn(16);return b[0]=t,b[1]=e,b[2]=n,b[3]=r,b[4]=o,b[5]=i,b[6]=a,b[7]=s,b[8]=u,b[9]=c,b[10]=f,b[11]=l,b[12]=p,b[13]=h,b[14]=y,b[15]=d,b}function An(t,e,n,r,o,i,a,s,u,c,f,l,p,h,y,d,b){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=l,t[11]=p,t[12]=h,t[13]=y,t[14]=d,t[15]=b,t}function Cn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Rn(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Dn(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],y=e[12],d=e[13],b=e[14],w=e[15],v=n*s-r*a,m=n*u-o*a,O=n*c-i*a,_=r*u-o*s,x=r*c-i*s,g=o*c-i*u,j=f*d-l*y,M=f*b-p*y,E=f*w-h*y,P=l*b-p*d,T=l*w-h*d,k=p*w-h*b,S=v*k-m*T+O*P+_*E-x*M+g*j;return S?(S=1/S,t[0]=(s*k-u*T+c*P)*S,t[1]=(o*T-r*k-i*P)*S,t[2]=(d*g-b*x+w*_)*S,t[3]=(p*x-l*g-h*_)*S,t[4]=(u*E-a*k-c*M)*S,t[5]=(n*k-o*E+i*M)*S,t[6]=(b*O-y*g-w*m)*S,t[7]=(f*g-p*O+h*m)*S,t[8]=(a*T-s*E+c*j)*S,t[9]=(r*E-n*T-i*j)*S,t[10]=(y*x-d*O+w*v)*S,t[11]=(l*O-f*x-h*v)*S,t[12]=(s*M-a*P-u*j)*S,t[13]=(n*P-r*M+o*j)*S,t[14]=(d*m-y*_-b*v)*S,t[15]=(f*_-l*m+p*v)*S,t):null}function Ln(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],y=e[12],d=e[13],b=e[14],w=e[15];return t[0]=s*(p*w-h*b)-l*(u*w-c*b)+d*(u*h-c*p),t[1]=-(r*(p*w-h*b)-l*(o*w-i*b)+d*(o*h-i*p)),t[2]=r*(u*w-c*b)-s*(o*w-i*b)+d*(o*c-i*u),t[3]=-(r*(u*h-c*p)-s*(o*h-i*p)+l*(o*c-i*u)),t[4]=-(a*(p*w-h*b)-f*(u*w-c*b)+y*(u*h-c*p)),t[5]=n*(p*w-h*b)-f*(o*w-i*b)+y*(o*h-i*p),t[6]=-(n*(u*w-c*b)-a*(o*w-i*b)+y*(o*c-i*u)),t[7]=n*(u*h-c*p)-a*(o*h-i*p)+f*(o*c-i*u),t[8]=a*(l*w-h*d)-f*(s*w-c*d)+y*(s*h-c*l),t[9]=-(n*(l*w-h*d)-f*(r*w-i*d)+y*(r*h-i*l)),t[10]=n*(s*w-c*d)-a*(r*w-i*d)+y*(r*c-i*s),t[11]=-(n*(s*h-c*l)-a*(r*h-i*l)+f*(r*c-i*s)),t[12]=-(a*(l*b-p*d)-f*(s*b-u*d)+y*(s*p-u*l)),t[13]=n*(l*b-p*d)-f*(r*b-o*d)+y*(r*p-o*l),t[14]=-(n*(s*b-u*d)-a*(r*b-o*d)+y*(r*u-o*s)),t[15]=n*(s*p-u*l)-a*(r*p-o*l)+f*(r*u-o*s),t}function zn(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],p=t[11],h=t[12],y=t[13],d=t[14],b=t[15];return(e*a-n*i)*(l*b-p*d)-(e*s-r*i)*(f*b-p*y)+(e*u-o*i)*(f*d-l*y)+(n*s-r*a)*(c*b-p*h)-(n*u-o*a)*(c*d-l*h)+(r*u-o*s)*(c*y-f*h)}function Fn(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=e[9],h=e[10],y=e[11],d=e[12],b=e[13],w=e[14],v=e[15],m=n[0],O=n[1],_=n[2],x=n[3];return t[0]=m*r+O*s+_*l+x*d,t[1]=m*o+O*u+_*p+x*b,t[2]=m*i+O*c+_*h+x*w,t[3]=m*a+O*f+_*y+x*v,m=n[4],O=n[5],_=n[6],x=n[7],t[4]=m*r+O*s+_*l+x*d,t[5]=m*o+O*u+_*p+x*b,t[6]=m*i+O*c+_*h+x*w,t[7]=m*a+O*f+_*y+x*v,m=n[8],O=n[9],_=n[10],x=n[11],t[8]=m*r+O*s+_*l+x*d,t[9]=m*o+O*u+_*p+x*b,t[10]=m*i+O*c+_*h+x*w,t[11]=m*a+O*f+_*y+x*v,m=n[12],O=n[13],_=n[14],x=n[15],t[12]=m*r+O*s+_*l+x*d,t[13]=m*o+O*u+_*p+x*b,t[14]=m*i+O*c+_*h+x*w,t[15]=m*a+O*f+_*y+x*v,t}function In(t,e,n){var r,o,i,a,s,u,c,f,l,p,h,y,d=n[0],b=n[1],w=n[2];return e===t?(t[12]=e[0]*d+e[4]*b+e[8]*w+e[12],t[13]=e[1]*d+e[5]*b+e[9]*w+e[13],t[14]=e[2]*d+e[6]*b+e[10]*w+e[14],t[15]=e[3]*d+e[7]*b+e[11]*w+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=e[9],h=e[10],y=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=l,t[9]=p,t[10]=h,t[11]=y,t[12]=r*d+s*b+l*w+e[12],t[13]=o*d+u*b+p*w+e[13],t[14]=i*d+c*b+h*w+e[14],t[15]=a*d+f*b+y*w+e[15]),t}function Bn(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Nn(t,e,n,r){var o,i,a,s,u,c,f,l,p,h,y,d,b,w,v,m,O,_,x,g,j,M,E,P,T=r[0],k=r[1],S=r[2],A=Math.hypot(T,k,S);return A<1e-6?null:(T*=A=1/A,k*=A,S*=A,o=Math.sin(n),a=1-(i=Math.cos(n)),s=e[0],u=e[1],c=e[2],f=e[3],l=e[4],p=e[5],h=e[6],y=e[7],d=e[8],b=e[9],w=e[10],v=e[11],m=T*T*a+i,O=k*T*a+S*o,_=S*T*a-k*o,x=T*k*a-S*o,g=k*k*a+i,j=S*k*a+T*o,M=T*S*a+k*o,E=k*S*a-T*o,P=S*S*a+i,t[0]=s*m+l*O+d*_,t[1]=u*m+p*O+b*_,t[2]=c*m+h*O+w*_,t[3]=f*m+y*O+v*_,t[4]=s*x+l*g+d*j,t[5]=u*x+p*g+b*j,t[6]=c*x+h*g+w*j,t[7]=f*x+y*g+v*j,t[8]=s*M+l*E+d*P,t[9]=u*M+p*E+b*P,t[10]=c*M+h*E+w*P,t[11]=f*M+y*E+v*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Un(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+f*r,t[6]=s*o+l*r,t[7]=u*o+p*r,t[8]=c*o-i*r,t[9]=f*o-a*r,t[10]=l*o-s*r,t[11]=p*o-u*r,t}function Gn(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[8],f=e[9],l=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-c*r,t[1]=a*o-f*r,t[2]=s*o-l*r,t[3]=u*o-p*r,t[8]=i*r+c*o,t[9]=a*r+f*o,t[10]=s*r+l*o,t[11]=u*r+p*o,t}function Vn(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[4],f=e[5],l=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+f*r,t[2]=s*o+l*r,t[3]=u*o+p*r,t[4]=c*o-i*r,t[5]=f*o-a*r,t[6]=l*o-s*r,t[7]=p*o-u*r,t}function qn(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Yn(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wn(t,e,n){var r,o,i,a=n[0],s=n[1],u=n[2],c=Math.hypot(a,s,u);return c<1e-6?null:(a*=c=1/c,s*=c,u*=c,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=s*a*i+u*r,t[2]=u*a*i-s*r,t[3]=0,t[4]=a*s*i-u*r,t[5]=s*s*i+o,t[6]=u*s*i+a*r,t[7]=0,t[8]=a*u*i+s*r,t[9]=s*u*i-a*r,t[10]=u*u*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Hn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Xn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Kn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Qn(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,u=o+o,c=i+i,f=r*s,l=r*u,p=r*c,h=o*u,y=o*c,d=i*c,b=a*s,w=a*u,v=a*c;return t[0]=1-(h+d),t[1]=l+v,t[2]=p-w,t[3]=0,t[4]=l-v,t[5]=1-(f+d),t[6]=y+b,t[7]=0,t[8]=p+w,t[9]=y-b,t[10]=1-(f+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Zn(t,e){var n=new Mn(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=r*r+o*o+i*i+a*a;return l>0?(n[0]=2*(s*a+f*r+u*i-c*o)/l,n[1]=2*(u*a+f*o+c*r-s*i)/l,n[2]=2*(c*a+f*i+s*o-u*r)/l):(n[0]=2*(s*a+f*r+u*i-c*o),n[1]=2*(u*a+f*o+c*r-s*i),n[2]=2*(c*a+f*i+s*o-u*r)),Qn(t,e,n),t}function $n(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Jn(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],s=e[6],u=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,s),t[2]=Math.hypot(u,c,f),t}function tr(t,e){var n=new Mn(3);Jn(n,e);var r=1/n[0],o=1/n[1],i=1/n[2],a=e[0]*r,s=e[1]*o,u=e[2]*i,c=e[4]*r,f=e[5]*o,l=e[6]*i,p=e[8]*r,h=e[9]*o,y=e[10]*i,d=a+f+y,b=0;return d>0?(b=2*Math.sqrt(d+1),t[3]=.25*b,t[0]=(l-h)/b,t[1]=(p-u)/b,t[2]=(s-c)/b):a>f&&a>y?(b=2*Math.sqrt(1+a-f-y),t[3]=(l-h)/b,t[0]=.25*b,t[1]=(s+c)/b,t[2]=(p+u)/b):f>y?(b=2*Math.sqrt(1+f-a-y),t[3]=(p-u)/b,t[0]=(s+c)/b,t[1]=.25*b,t[2]=(l+h)/b):(b=2*Math.sqrt(1+y-a-f),t[3]=(s-c)/b,t[0]=(p+u)/b,t[1]=(l+h)/b,t[2]=.25*b),t}function er(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=o+o,c=i+i,f=a+a,l=o*u,p=o*c,h=o*f,y=i*c,d=i*f,b=a*f,w=s*u,v=s*c,m=s*f,O=r[0],_=r[1],x=r[2];return t[0]=(1-(y+b))*O,t[1]=(p+m)*O,t[2]=(h-v)*O,t[3]=0,t[4]=(p-m)*_,t[5]=(1-(l+b))*_,t[6]=(d+w)*_,t[7]=0,t[8]=(h+v)*x,t[9]=(d-w)*x,t[10]=(1-(l+y))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function nr(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],u=e[3],c=i+i,f=a+a,l=s+s,p=i*c,h=i*f,y=i*l,d=a*f,b=a*l,w=s*l,v=u*c,m=u*f,O=u*l,_=r[0],x=r[1],g=r[2],j=o[0],M=o[1],E=o[2],P=(1-(d+w))*_,T=(h+O)*_,k=(y-m)*_,S=(h-O)*x,A=(1-(p+w))*x,C=(b+v)*x,R=(y+m)*g,D=(b-v)*g,L=(1-(p+d))*g;return t[0]=P,t[1]=T,t[2]=k,t[3]=0,t[4]=S,t[5]=A,t[6]=C,t[7]=0,t[8]=R,t[9]=D,t[10]=L,t[11]=0,t[12]=n[0]+j-(P*j+S*M+R*E),t[13]=n[1]+M-(T*j+A*M+D*E),t[14]=n[2]+E-(k*j+C*M+L*E),t[15]=1,t}function rr(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,c=n*a,f=r*a,l=r*s,p=o*a,h=o*s,y=o*u,d=i*a,b=i*s,w=i*u;return t[0]=1-l-y,t[1]=f+w,t[2]=p-b,t[3]=0,t[4]=f-w,t[5]=1-c-y,t[6]=h+d,t[7]=0,t[8]=p+b,t[9]=h-d,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function or(t,e,n,r,o,i,a){var s=1/(n-e),u=1/(o-r),c=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*u,t[10]=(a+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*c,t[15]=0,t}function ir(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}function ar(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(o+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function sr(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*c,t[15]=1,t}function ur(t,e,n,r){var o,i,a,s,u,c,f,l,p,h,y=e[0],d=e[1],b=e[2],w=r[0],v=r[1],m=r[2],O=n[0],_=n[1],x=n[2];return Math.abs(y-O)<1e-6&&Math.abs(d-_)<1e-6&&Math.abs(b-x)<1e-6?Cn(t):(f=y-O,l=d-_,p=b-x,o=v*(p*=h=1/Math.hypot(f,l,p))-m*(l*=h),i=m*(f*=h)-w*p,a=w*l-v*f,(h=Math.hypot(o,i,a))?(o*=h=1/h,i*=h,a*=h):(o=0,i=0,a=0),s=l*a-p*i,u=p*o-f*a,c=f*i-l*o,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),t[0]=o,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=u,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=p,t[11]=0,t[12]=-(o*y+i*d+a*b),t[13]=-(s*y+u*d+c*b),t[14]=-(f*y+l*d+p*b),t[15]=1,t)}function cr(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=r[0],u=r[1],c=r[2],f=o-n[0],l=i-n[1],p=a-n[2],h=f*f+l*l+p*p;h>0&&(f*=h=1/Math.sqrt(h),l*=h,p*=h);var y=u*p-c*l,d=c*f-s*p,b=s*l-u*f;return(h=y*y+d*d+b*b)>0&&(y*=h=1/Math.sqrt(h),d*=h,b*=h),t[0]=y,t[1]=d,t[2]=b,t[3]=0,t[4]=l*b-p*d,t[5]=p*y-f*b,t[6]=f*d-l*y,t[7]=0,t[8]=f,t[9]=l,t[10]=p,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function fr(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function lr(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function pr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function hr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function yr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function dr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function br(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function wr(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],p=t[10],h=t[11],y=t[12],d=t[13],b=t[14],w=t[15],v=e[0],m=e[1],O=e[2],_=e[3],x=e[4],g=e[5],j=e[6],M=e[7],E=e[8],P=e[9],T=e[10],k=e[11],S=e[12],A=e[13],C=e[14],R=e[15];return Math.abs(n-v)<=1e-6*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-m)<=1e-6*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(o-O)<=1e-6*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(i-_)<=1e-6*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-x)<=1e-6*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-g)<=1e-6*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-j)<=1e-6*Math.max(1,Math.abs(u),Math.abs(j))&&Math.abs(c-M)<=1e-6*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-E)<=1e-6*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-P)<=1e-6*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(p-T)<=1e-6*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(h-k)<=1e-6*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(y-S)<=1e-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(d-A)<=1e-6*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(b-C)<=1e-6*Math.max(1,Math.abs(b),Math.abs(C))&&Math.abs(w-R)<=1e-6*Math.max(1,Math.abs(w),Math.abs(R))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var vr=Fn,mr=hr;function Or(){var t=new Mn(3);return Mn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function _r(t){var e=new Mn(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function xr(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function gr(t,e,n){var r=new Mn(3);return r[0]=t,r[1]=e,r[2]=n,r}function jr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Mr(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Er(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Pr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Tr(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function kr(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Sr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ar(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function Cr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function Rr(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function Dr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Lr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function zr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function Fr(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.hypot(n,r,o)}function Ir(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function Br(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Nr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ur(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Gr(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Vr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qr(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2];return t[0]=o*u-i*s,t[1]=i*a-r*u,t[2]=r*s-o*a,t}function Yr(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}function Wr(t,e,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,u=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*s+n[0]*u+r[0]*c+o[0]*f,t[1]=e[1]*s+n[1]*u+r[1]*c+o[1]*f,t[2]=e[2]*s+n[2]*u+r[2]*c+o[2]*f,t}function Hr(t,e,n,r,o,i){var a=1-i,s=a*a,u=i*i,c=s*a,f=3*i*s,l=3*u*a,p=u*i;return t[0]=e[0]*c+n[0]*f+r[0]*l+o[0]*p,t[1]=e[1]*c+n[1]*f+r[1]*l+o[1]*p,t[2]=e[2]*c+n[2]*f+r[2]*l+o[2]*p,t}function Xr(t,e){e=e||1;var n=2*En()*Math.PI,r=2*En()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function Kr(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function Qr(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function Zr(t,e,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=e[0],u=e[1],c=e[2],f=o*c-i*u,l=i*s-r*c,p=r*u-o*s,h=o*p-i*l,y=i*f-r*p,d=r*l-o*f,b=2*a;return f*=b,l*=b,p*=b,h*=2,y*=2,d*=2,t[0]=s+f+h,t[1]=u+l+y,t[2]=c+p+d,t}function $r(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Jr(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function to(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function eo(t,e){var n=gr(t[0],t[1],t[2]),r=gr(e[0],e[1],e[2]);Gr(n,n),Gr(r,r);var o=Vr(n,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function no(t){return t[0]=0,t[1]=0,t[2]=0,t}function ro(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function oo(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function io(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],s=e[2];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=1e-6*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=1e-6*Math.max(1,Math.abs(o),Math.abs(s))}var ao,so=Pr,uo=Tr,co=kr,fo=Fr,lo=Ir,po=xr,ho=Br,yo=(ao=Or(),function(t,e,n,r,o,i){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)ao[0]=t[a],ao[1]=t[a+1],ao[2]=t[a+2],o(ao,ao,i),t[a]=ao[0],t[a+1]=ao[1],t[a+2]=ao[2];return t});function bo(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}function wo(t){const e=function(t,e,n){const r=bo(t,t.VERTEX_SHADER,e),o=bo(t,t.FRAGMENT_SHADER,n),i=t.createProgram();return t.attachShader(i,r),t.attachShader(i,o),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?i:(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(i)),null)}(t,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  ");return{programInfo:{program:e,attribLocations:{vertexPosition:t.getAttribLocation(e,"aVertexPosition"),vertexColor:t.getAttribLocation(e,"aVertexColor")},uniformLocations:{projectionMatrix:t.getUniformLocation(e,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(e,"uModelViewMatrix")}},buffers:function(t){const e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),t.STATIC_DRAW);const n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),t.STATIC_DRAW),{position:e,color:n}}(t)}}class vo{static create(t){const e=t.createWebGlBuffer(),n=t.createBuffer(e),r=new vo(e,n);return e.listener=r,n.listener=r,r}constructor(t,e){this.proxy=t,this.bufferProxy=e,this.canvas=null}async offscreenCanvas(t){this.canvas=await t.getTransferable()}release(){}}class mo{static create(){const t=jn.getRegistry(),e=new mo(t);return t.listener=e,e}constructor(t){this._registry=t,this._gl=null,this._webGL=null,this._compositor=null,this._shell=null,this._seat=null,this._surface=null,this._shellSurface=null,this._glBuffer=null,this._lastFrameRenderTime=Date.now(),this._frameCount=0}global(t,e,n){switch(e){case Y.protocolName:this._compositor=this._registry.bind(t,Y.protocolName,Y,n),this._surface=this._compositor.createSurface(),this._onFrame=(r=this._surface,function(){return new Promise((function(t){var e=r.frame();e.listener={done:function(n){t(n),e.destroy()}}}))});break;case _n.protocolName:this._webGL=this._registry.bind(t,_n.protocolName,_n,n),this._glBuffer=vo.create(this._webGL);break;case Ft.protocolName:this._shell=this._registry.bind(t,Ft.protocolName,Ft,n);break;case ye.protocolName:this._seat=this._registry.bind(t,ye.protocolName,ye,n),this._seat.listener=this}var r}async init(t,e){this._shellSurface=this._shell.getShellSurface(this._surface),this._shellSurface.listener=this,this._shellSurface.setToplevel(),this._shellSurface.setTitle("Simple WebGL");const n=jn.sync();jn.flush(),await n,this._glBuffer.canvas.width=t,this._glBuffer.canvas.height=e,this._gl=this._glBuffer.canvas.getContext("webgl",{desynchronized:!0,alpha:!0}),this._drawState=wo(this._gl),setInterval(()=>{console.log(`Simpl-WebGL: ${this._frameCount} fps`),this._frameCount=0},1e3)}async draw(t){!function(t,{programInfo:e,buffers:n},i){const a=.001*i;t.clearColor(0,0,0,.7),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const s=45*Math.PI/180,u=t.canvas.width/t.canvas.height,c=r.create();r.perspective(c,s,u,.1,100);const f=r.create();r.translate(f,f,o.fromValues(-0,0,-6)),r.rotate(f,f,a,o.fromValues(0,0,1));{const r=2,o=t.FLOAT,i=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,r,o,i,a,s),t.enableVertexAttribArray(e.attribLocations.vertexPosition)}{const r=4,o=t.FLOAT,i=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.color),t.vertexAttribPointer(e.attribLocations.vertexColor,r,o,i,a,s),t.enableVertexAttribArray(e.attribLocations.vertexColor)}t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,c),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,f),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.commit&&t.commit()}(this._gl,this._drawState,t),this._surface.attach(this._glBuffer.bufferProxy,0,0),this._surface.damage(0,0,this._glBuffer.canvas.width,this._glBuffer.canvas.height),this._onFrame().then(t=>this.draw(t)),this._surface.commit(0),jn.flush(),this._frameCount++}globalRemove(t){}configure(t,e,n){}ping(t){this._shellSurface.pong(t)}popupDone(){}capabilities(t){t&ye.Capability.pointer?(this._pointer=this._seat.getPointer(),this._pointer.listener=this):this._pointer&&(this._pointer.release(),this._pointer=null)}name(t){}axis(t,e,n){}axisDiscrete(t,e){}axisSource(t){}axisStop(t,e){}button(t,e,n,r){r&Ht.ButtonState.pressed&&this._shellSurface.move(this._seat,t)}enter(t,e,n,r){}frame(){}leave(t,e){}motion(t,e,n){}}!async function(){const t=mo.create(800,600),e=jn.sync();jn.flush(),await e,await t.init(800,600),t.draw(0),jn.flush();try{await jn.onClose(),console.log("Application exit.")}catch(t){console.error("Application terminated with error."),console.error(t.stackTrace)}}()}]);