!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}([function(t,e,n){t.exports=n(2)},function(t,e,n){t.exports=n(4)},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(3),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=d;var f={},p={};p[i]=function(){return this};var l=Object.getPrototypeOf,h=l&&l(l(P([])));h&&h!==n&&r.call(h,i)&&(p=h);var y=m.prototype=w.prototype=Object.create(p);v.prototype=y.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},O(_.prototype),_.prototype[a]=function(){return this},u.AsyncIterator=_,u.async=function(t,e,n,r){var o=new _(d(t,e,n,r));return u.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}}}function d(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=b(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function v(){}function m(){}function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var s=b(t[n],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(u).then((function(t){c.value=t,i(c)}),a)}a(s.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=b(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._raw=e}return(t.parse=function(e){return new t(256*e>>0)},t.prototype.asInt=function(){return this._raw/256>>0},t.prototype.asDouble=function(){return this._raw/256},t)}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wlObjects={},this.closed=!1,this._outMessages=[],this._inMessages=[]}var e,n;return t.uint=function(t){return{value:t,type:"u",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.uintOptional=function(t){return{value:t,type:"u",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}},t.fileDescriptor=function(t){return{value:t,type:"h",size:0,optional:!1,_marshallArg:function(t){t.fds.push(this.value)}}},t.fileDescriptorOptional=function(t){return{value:t,type:"h",size:0,optional:!0,_marshallArg:function(t){t.fds.push(this.value)}}},t.int=function(t){return{value:t,type:"i",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.intOptional=function(t){return{value:t,type:"i",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}},t.fixed=function(t){return{value:t,type:"f",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value._raw,t.bufferOffset+=this.size}}},t.fixedOptional=function(t){return{value:t,type:"f",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value._raw,e.bufferOffset+=this.size}}},t.object=function(t){return{value:t,type:"o",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.id,t.bufferOffset+=this.size}}},t.objectOptional=function(t){return{value:t,type:"o",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value.id,e.bufferOffset+=this.size}}},t.newObject=function(){return{value:0,type:"n",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.string=function(t){return{value:t+"\0",type:"s",size:4+(t.length+1+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var e=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,e),r=0;r<e;r++)n[r]=this.value[r].codePointAt(0);t.bufferOffset+=this.size}}},t.stringOptional=function(t){return{value:t+"\0",type:"s",size:4+(null===t?0:t.length+1+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var e=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,e),r=0;r<e;r++)n[r]=this.value[r].codePointAt(0)}t.bufferOffset+=this.size}}},t.array=function(t){return{value:t,type:"a",size:4+(t.byteLength+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e)),t.bufferOffset+=this.size}}},t.arrayOptional=function(t){return{value:t,type:"a",size:4+(null===t?0:t.byteLength+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e))}t.bufferOffset+=this.size}}},t._checkMessageSize=function(t,e){if(t.consumed+e>t.size)throw new Error("Request too short.");t.consumed+=e},t.u=function(e){return t._checkMessageSize(e,4),e.buffer[e.bufferOffset++]},t.i=function(e){t._checkMessageSize(e,4);var n=new Int32Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return e.bufferOffset+=1,n},t.f=function(e){t._checkMessageSize(e,4);var n=new Int32Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return e.bufferOffset+=1,new i(n>>0)},t.o=function(e,n,r){t._checkMessageSize(e,4);var o=e.buffer[e.bufferOffset++];if(n&&0===o)return null;var i=r.wlObjects[o];if(i)return i;throw new Error("Unknown object id "+o)},t.n=function(e){return t._checkMessageSize(e,4),e.buffer[e.bufferOffset++]},t.s=function(e,n){t._checkMessageSize(e,4);var r=e.buffer[e.bufferOffset++];if(n&&0===r)return null;var o=r+3&-4;t._checkMessageSize(e,o);var i=new Uint8Array(e.buffer.buffer,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,r-1);return e.bufferOffset+=o/4,String.fromCharCode.apply(String,i)},t.a=function(e,n){t._checkMessageSize(e,4);var r=e.buffer[e.bufferOffset++];if(n&&0===r)return null;var o=r+3&-4;t._checkMessageSize(e,o);var i=e.buffer.buffer.slice(e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,e.buffer.byteOffset+e.bufferOffset*Uint32Array.BYTES_PER_ELEMENT+r);return e.bufferOffset+=o,i},t.h=function(t){if(t.fds.length>0)return t.fds.shift();throw new Error("Not enough file descriptors in message object.")},t.prototype.marshallMsg=function(t,e,n,r){var o={buffer:new ArrayBuffer(n),fds:[],bufferOffset:0},i=new Uint32Array(o.buffer),a=new Uint16Array(o.buffer);i[0]=t,a[2]=e,a[3]=n,o.bufferOffset=8,r.forEach((function(t){return t._marshallArg(o)})),this.onSend(o)},t.prototype.message=(e=o.a.mark((function t(e){var n,r,i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed){t.next=2;break}return t.abrupt("return");case 2:if(!(this._inMessages.push(e)>1)){t.next=4;break}return t.abrupt("return");case 4:if(!this._inMessages.length){t.next=40;break}(n=this._inMessages[0]).bufferOffset=0,n.consumed=0,n.size=0;case 9:if(!(n.bufferOffset<n.buffer.length)){t.next=37;break}if(r=n.buffer[n.bufferOffset],i=n.buffer[n.bufferOffset+1],n.size=i>>>16,a=65535&i,!(n.size>n.buffer.byteLength)){t.next=16;break}throw new Error("Request buffer too small");case 16:if(!(s=this.wlObjects[r])){t.next=34;break}return n.bufferOffset+=2,n.consumed=8,t.prev=20,t.next=23,s[a](n);case 23:t.next=30;break;case 25:throw t.prev=25,t.t0=t.catch(20),console.error("\nwlObject: "+s.constructor.name+"["+a+"](..)\nname: "+t.t0.name+" message: "+t.t0.message+" text: "+t.t0.text+"\nerror object stack: \n"+t.t0.stack+"\n"),this.close(),t.t0;case 30:if(!this.closed){t.next=32;break}return t.abrupt("return");case 32:t.next=35;break;case 34:throw new Error("invalid object "+r);case 35:t.next=9;break;case 37:this._inMessages.shift(),t.next=4;break;case 40:this.flush();case 41:case"end":return t.stop()}}),t,this,[[20,25]])})),n=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return n.apply(this,arguments)}),t.prototype.onSend=function(t){this.closed||this._outMessages.push(t)},t.prototype.flush=function(){this.closed||0!==this._outMessages.length&&(this.onFlush(this._outMessages),this._outMessages=[])},t.prototype.onFlush=function(t){},t.prototype.close=function(){this.closed||(Object.values(this.wlObjects).sort((function(t,e){return t.id-e.id})).forEach((function(t){return t.destroy()})),this._outMessages=null,this._inMessages=null,this.closed=!0)},t.prototype.registerWlObject=function(t){if(!this.closed){if(t.id in this.wlObjects)throw new Error("Illegal object id: "+t.id+". Already registered.");this.wlObjects[t.id]=t}},t.prototype.unregisterWlObject=function(t){this.closed||delete this.wlObjects[t.id]},t}();var s=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fd=e,this.type=n,this.url=r,this._onGetTransferable=o,this._onClose=i}var e,n;return t.prototype.getTransferable=(e=o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._onGetTransferable(this);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})),n=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(){return n.apply(this,arguments)}),t.prototype.close=function(){this._onClose(this)},t}();var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this._destroyPromise=new Promise((function(t){return n._destroyResolver=t})),this._destroyListeners=[],this._destroyPromise.then((function(){return n._destroyListeners.forEach((function(t){return t(n)}))}))}return t.prototype.destroy=function(){this._destroyResolver()},t.prototype.addDestroyListener=function(t){this._destroyListeners.push(t)},t.prototype.removeDestroyListener=function(t){this._destroyListeners=this._destroyListeners.filter((function(e){return e!==t}))},t.prototype.onDestroy=function(){return this._destroyPromise},t}();var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._fdDomainUUID=e,this._webFDs={},this._nextFD=0}return t.create=function(e){return new t(e)},t.prototype.fromArrayBuffer=function(t){var e=this,n=this._nextFD++,r=new URL("client://");r.searchParams.append("fd",""+n),r.searchParams.append("type","ArrayBuffer"),r.searchParams.append("clientId",this._fdDomainUUID);var o=new s(n,"ArrayBuffer",r,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=o,o},t.prototype.fromImageBitmap=function(t){var e=this,n=this._nextFD++,r=new URL("client://");r.searchParams.append("fd",""+n),r.searchParams.append("type","ImageBitmap"),r.searchParams.append("clientId",this._fdDomainUUID);var o=new s(n,"ImageBitmap",r,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=o,o},t.prototype.fromOffscreenCanvas=function(t){var e=this,n=this._nextFD++,r="OffscreenCanvas",o=new URL("client://");o.searchParams.append("fd",""+n),o.searchParams.append("type",r),o.searchParams.append("clientId",this._fdDomainUUID);var i=new s(n,r,o,(function(){return Promise.resolve(t)}),(function(){delete e._webFDs[n]}));return this._webFDs[n]=i,i},t.prototype.getWebFD=function(t){return this._webFDs[t]},t}();var f=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return i.display=n,i._connection=r,r.registerWlObject(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._connection.unregisterWlObject(this)},e.prototype._marshallConstructor=function(t,e,n,r){var o=new n(this.display,this._connection,this.display.generateNextId()),i=8;return r.forEach((function(t){"n"===t.type&&(t.value=o.id),i+=t.size})),this._connection.marshallMsg(t,e,i,r),o},e.prototype._marshall=function(t,e,n){var r=8;n.forEach((function(t){return r+=t.size})),this._connection.marshallMsg(t,e,r,n)},e}(c);a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h;var p=a.u,l=(a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done(p(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f));l.protocolName="wl_callback";var h=l;function y(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var d=a.uint,b=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject),w=a.string,v=(a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),m=(a.i,a.f,a.o,a.n,a.s),O=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.bind=function(t,e,n,r){return this._marshallConstructor(this.id,0,n,[d(t),w(e),d(r),b()])},e.prototype[0]=(n=y(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.global(v(e),m(e,!1),v(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=y(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.globalRemove(v(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f));O.protocolName="wl_registry";var _=O;function x(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional;var g=a.newObject,j=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),E=(a.i,a.f,a.o),P=(a.n,a.s),k=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.sync=function(){return this._marshallConstructor(this.id,0,h,[g()])},e.prototype.getRegistry=function(){return this._marshallConstructor(this.id,1,_,[g()])},e.prototype[0]=(n=x(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.error(E(e,!1,this._connection),j(e),P(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=x(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.deleteId(j(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f));k.protocolName="wl_display",k.Error={invalidObject:0,invalidMethod:1,noMemory:2};var T=k;var S=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._recycledIds=[],this._connection=e,this._displayProxy=new T(this,this._connection,1),this._lastId=1,this._destroyResolve=null,this._destroyReject=null,this._destroyPromise=new Promise((function(t,e){n._destroyResolve=t,n._destroyReject=e})),this._displayProxy.listener={deleteId:function(t){n._recycledIds.push(t)},error:function(t,e,r){n._protocolError(t,e,r)}},this.errorHandler=null}return t.prototype.close=function(){this._connection.closed||(this._connection.close(),this._destroyResolve())},t.prototype._protocolError=function(t,e,n){this._connection.closed||(this._connection.close(),this._destroyReject(new Error("Protocol error. type: "+t.constructor.name+", id: "+t.id+", code: "+e+", message: "+n)))},t.prototype.onClose=function(){return this._destroyPromise},t.prototype.getRegistry=function(){return this._displayProxy.getRegistry()},t.prototype.generateNextId=function(){return this._recycledIds.length?this._recycledIds.shift():++this._lastId},t.prototype.sync=function(){var t=this;return new Promise((function(e){var n=t._displayProxy.sync();n.listener={done:function(t){e(t),n.destroy()}}}))},t.prototype.flush=function(){this._connection.flush()},t}();function C(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var D=a.uint,A=(a.uintOptional,a.int),R=(a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional),z=a.newObject,L=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o),M=(a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.attach=function(t,e,n){this._marshall(this.id,1,[R(t),A(e),A(n)])},e.prototype.damage=function(t,e,n,r){this._marshall(this.id,2,[A(t),A(e),A(n),A(r)])},e.prototype.frame=function(){return this._marshallConstructor(this.id,3,h,[z()])},e.prototype.setOpaqueRegion=function(t){this._marshall(this.id,4,[R(t)])},e.prototype.setInputRegion=function(t){this._marshall(this.id,5,[R(t)])},e.prototype.commit=function(t){this._marshall(this.id,6,[D(t)])},e.prototype.setBufferTransform=function(t){this._marshall(this.id,7,[A(t)])},e.prototype.setBufferScale=function(t){this._marshall(this.id,8,[A(t)])},e.prototype.damageBuffer=function(t,e,n,r){this._marshall(this.id,9,[A(t),A(e),A(n),A(r)])},e.prototype[0]=(n=C(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(L(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=C(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(L(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f));M.protocolName="wl_surface",M.Error={invalidScale:0,invalidTransform:1};var N=M;a.uint,a.uintOptional;var U=a.int,B=(a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.add=function(t,e,n,r){this._marshall(this.id,1,[U(t),U(e),U(n),U(r)])},e.prototype.subtract=function(t,e,n,r){this._marshall(this.id,2,[U(t),U(e),U(n),U(r)])},e}(f));B.protocolName="wl_region";var I=B;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional;var F=a.newObject,G=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createSurface=function(){return this._marshallConstructor(this.id,0,N,[F()])},e.prototype.createRegion=function(){return this._marshallConstructor(this.id,1,I,[F()])},e}(f));G.protocolName="wl_compositor";var W=G;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a;var Y=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.release();case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f);Y.protocolName="wl_buffer";var H=Y;function K(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var X=a.uint,q=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string),V=a.stringOptional,J=(a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor),Q=(a.h,a.u),Z=(a.i,a.f,a.o,a.n,a.s),$=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.accept=function(t,e){this._marshall(this.id,0,[X(t),V(e)])},e.prototype.receive=function(t,e){this._marshall(this.id,1,[q(t),J(e)])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e.prototype.finish=function(){this._marshall(this.id,3,[])},e.prototype.setActions=function(t,e){this._marshall(this.id,4,[X(t),X(e)])},e.prototype[0]=(n=K(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offer(Z(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=K(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.sourceActions(Q(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=K(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(Q(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e}(f));$.protocolName="wl_data_offer",$.Error={invalidFinish:0,invalidActionMask:1,invalidAction:2,invalidOffer:3};var tt=$;function et(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var nt=a.uint,rt=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string),ot=(a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h),it=a.u,at=(a.i,a.f,a.o,a.n,a.s),st=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.offer=function(t){this._marshall(this.id,0,[rt(t)])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e.prototype.setActions=function(t){this._marshall(this.id,2,[nt(t)])},e.prototype[0]=(n=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.target(at(e,!0));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.send(at(e,!1),ot(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancelled();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndDropPerformed();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e.prototype[4]=(s=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndFinished();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(c=et(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(it(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e}(f));st.protocolName="wl_data_source",st.Error={invalidActionMask:0,invalidSource:1};var ct=st;function ut(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var ft=a.uint,pt=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object),lt=a.objectOptional,ht=(a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),yt=(a.i,a.f),dt=a.o,bt=a.n,wt=(a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.startDrag=function(t,e,n,r){this._marshall(this.id,0,[lt(t),pt(e),lt(n),ft(r)])},e.prototype.setSelection=function(t,e){this._marshall(this.id,1,[lt(t),ft(e)])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e.prototype[0]=(n=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dataOffer(new tt(this._connection,bt(e)));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(ht(e),dt(e,!1,this._connection),yt(e),yt(e),dt(e,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(ht(e),yt(e),yt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e.prototype[4]=(s=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.drop();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(c=ut(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.selection(dt(e,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e}(f));wt.protocolName="wl_data_device",wt.Error={role:0};var vt=wt;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional;var mt=a.object,Ot=(a.objectOptional,a.newObject),_t=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createDataSource=function(){return this._marshallConstructor(this.id,0,ct,[Ot()])},e.prototype.getDataDevice=function(t){return this._marshallConstructor(this.id,1,vt,[Ot(),mt(t)])},e}(f));_t.protocolName="wl_data_device_manager",_t.DndAction={none:0,copy:1,move:2,ask:4};function xt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var gt=a.uint,jt=(a.uintOptional,a.int),Et=(a.intOptional,a.fixed,a.fixedOptional,a.object),Pt=a.objectOptional,kt=(a.newObject,a.string),Tt=(a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),St=a.i,Ct=(a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pong=function(t){this._marshall(this.id,0,[gt(t)])},e.prototype.move=function(t,e){this._marshall(this.id,1,[Et(t),gt(e)])},e.prototype.resize=function(t,e,n){this._marshall(this.id,2,[Et(t),gt(e),gt(n)])},e.prototype.setToplevel=function(){this._marshall(this.id,3,[])},e.prototype.setTransient=function(t,e,n,r){this._marshall(this.id,4,[Et(t),jt(e),jt(n),gt(r)])},e.prototype.setFullscreen=function(t,e,n){this._marshall(this.id,5,[gt(t),gt(e),Pt(n)])},e.prototype.setPopup=function(t,e,n,r,o,i){this._marshall(this.id,6,[Et(t),gt(e),Et(n),jt(r),jt(o),gt(i)])},e.prototype.setMaximized=function(t){this._marshall(this.id,7,[Pt(t)])},e.prototype.setTitle=function(t){this._marshall(this.id,8,[kt(t)])},e.prototype.setClass=function(t){this._marshall(this.id,9,[kt(t)])},e.prototype[0]=(n=xt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(Tt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=xt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Tt(e),St(e),St(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=xt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e}(f));Ct.protocolName="wl_shell_surface",Ct.Resize={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Ct.Transient={inactive:1},Ct.FullscreenMethod={default:0,scale:1,driver:2,fill:3};var Dt=Ct;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional;var At=a.object,Rt=(a.objectOptional,a.newObject),zt=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getShellSurface=function(t){return this._marshallConstructor(this.id,0,Dt,[Rt(),At(t)])},e}(f));zt.protocolName="wl_shell",zt.Error={role:0};var Lt=zt;function Mt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Nt=a.uint,Ut=(a.uintOptional,a.int),Bt=(a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional),It=(a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),Ft=a.i,Gt=a.f,Wt=a.o,Yt=(a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a,s,c,u,f,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setCursor=function(t,e,n,r){this._marshall(this.id,0,[Nt(t),Bt(e),Ut(n),Ut(r)])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e.prototype[0]=(n=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(It(e),Wt(e,!1,this._connection),Gt(e),Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(It(e),Wt(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(It(e),Gt(e),Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.button(It(e),It(e),It(e),It(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e.prototype[4]=(s=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axis(It(e),It(e),Gt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(c=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e.prototype[6]=(u=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisSource(It(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e.prototype[7]=(f=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisStop(It(e),It(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)}),e.prototype[8]=(p=Mt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisDiscrete(It(e),Ft(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)}),e}(f));Yt.protocolName="wl_pointer",Yt.Error={role:0},Yt.ButtonState={released:0,pressed:1},Yt.Axis={verticalScroll:0,horizontalScroll:1},Yt.AxisSource={wheel:0,finger:1,continuous:2,wheelTilt:3};var Ht=Yt;function Kt(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor;var Xt=a.h,qt=a.u,Vt=a.i,Jt=(a.f,a.o),Qt=(a.n,a.s,a.a),Zt=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.keymap(qt(e),Xt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(qt(e),Jt(e,!1,this._connection),Qt(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(qt(e),Jt(e,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.key(qt(e),qt(e),qt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e.prototype[4]=(s=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.modifiers(qt(e),qt(e),qt(e),qt(e),qt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(c=Kt(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.repeatInfo(Vt(e),Vt(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e}(f);Zt.protocolName="wl_keyboard",Zt.KeymapFormat={noKeymap:0,xkbV1:1},Zt.KeyState={released:0,pressed:1};var $t=Zt;function te(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h;var ee=a.u,ne=a.i,re=a.f,oe=a.o,ie=(a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a,s,c,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.down(ee(e),ee(e),oe(e,!1,this._connection),ne(e),re(e),re(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.up(ee(e),ee(e),ne(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(ee(e),ne(e),re(e),re(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e.prototype[4]=(s=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancel();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),e.prototype[5]=(c=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.shape(ne(e),re(e),re(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),e.prototype[6]=(u=te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.orientation(ne(e),re(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),e}(f));ie.protocolName="wl_touch";var ae=ie;function se(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional;var ce=a.newObject,ue=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),fe=(a.i,a.f,a.o,a.n,a.s),pe=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getPointer=function(){return this._marshallConstructor(this.id,0,Ht,[ce()])},e.prototype.getKeyboard=function(){return this._marshallConstructor(this.id,1,$t,[ce()])},e.prototype.getTouch=function(){return this._marshallConstructor(this.id,2,ae,[ce()])},e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,3,[])},e.prototype[0]=(n=se(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.capabilities(ue(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=se(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.name(fe(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f));pe.protocolName="wl_seat",pe.Capability={pointer:1,keyboard:2,touch:4};function le(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h;var he=a.u,ye=a.i,de=(a.f,a.o,a.n,a.s),be=(a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype[0]=(n=le(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.geometry(ye(e),ye(e),ye(e),ye(e),ye(e),de(e,!1),de(e,!1),ye(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=le(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.mode(he(e),ye(e),ye(e),ye(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e.prototype[2]=(i=le(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),e.prototype[3]=(a=le(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.scale(ye(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),e}(f));be.protocolName="wl_output",be.Subpixel={unknown:0,none:1,horizontalRgb:2,horizontalBgr:3,verticalRgb:4,verticalBgr:5},be.Transform={normal:0,90:1,180:2,270:3,flipped:4,flipped90:5,flipped180:6,flipped270:7},be.Mode={current:1,preferred:2};a.uint,a.uintOptional;var we=a.int,ve=(a.intOptional,a.fixed,a.fixedOptional,a.object),me=(a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setPosition=function(t,e){this._marshall(this.id,1,[we(t),we(e)])},e.prototype.placeAbove=function(t){this._marshall(this.id,2,[ve(t)])},e.prototype.placeBelow=function(t){this._marshall(this.id,3,[ve(t)])},e.prototype.setSync=function(){this._marshall(this.id,4,[])},e.prototype.setDesync=function(){this._marshall(this.id,5,[])},e}(f));me.protocolName="wl_subsurface",me.Error={badSurface:0};var Oe=me;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional;var _e=a.object,xe=(a.objectOptional,a.newObject),ge=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.getSubsurface=function(t,e){return this._marshallConstructor(this.id,1,Oe,[xe(),_e(t),_e(e)])},e}(f));ge.protocolName="wl_subcompositor",ge.Error={badSurface:0};!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.error=function(t,e,n){},t.prototype.deleteId=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.global=function(t,e,n){},t.prototype.globalRemove=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.done=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.release=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.offer=function(t){},t.prototype.sourceActions=function(t){},t.prototype.action=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.target=function(t){},t.prototype.send=function(t,e){},t.prototype.cancelled=function(){},t.prototype.dndDropPerformed=function(){},t.prototype.dndFinished=function(){},t.prototype.action=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.dataOffer=function(t){},t.prototype.enter=function(t,e,n,r,o){},t.prototype.leave=function(){},t.prototype.motion=function(t,e,n){},t.prototype.drop=function(){},t.prototype.selection=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.ping=function(t){},t.prototype.configure=function(t,e,n){},t.prototype.popupDone=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.enter=function(t){},t.prototype.leave=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.capabilities=function(t){},t.prototype.name=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.enter=function(t,e,n,r){},t.prototype.leave=function(t,e){},t.prototype.motion=function(t,e,n){},t.prototype.button=function(t,e,n,r){},t.prototype.axis=function(t,e,n){},t.prototype.frame=function(){},t.prototype.axisSource=function(t){},t.prototype.axisStop=function(t,e){},t.prototype.axisDiscrete=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.keymap=function(t,e,n){},t.prototype.enter=function(t,e,n){},t.prototype.leave=function(t,e){},t.prototype.key=function(t,e,n,r){},t.prototype.modifiers=function(t,e,n,r,o){},t.prototype.repeatInfo=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.down=function(t,e,n,r,o,i){},t.prototype.up=function(t,e,n){},t.prototype.motion=function(t,e,n,r){},t.prototype.frame=function(){},t.prototype.cancel=function(){},t.prototype.shape=function(t,e,n){},t.prototype.orientation=function(t,e){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.geometry=function(t,e,n,r,o,i,a,s){},t.prototype.mode=function(t,e,n,r){},t.prototype.done=function(){},t.prototype.scale=function(t){}}();var je=a.uint,Ee=(a.uintOptional,a.int),Pe=(a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setSize=function(t,e){this._marshall(this.id,1,[Ee(t),Ee(e)])},e.prototype.setAnchorRect=function(t,e,n,r){this._marshall(this.id,2,[Ee(t),Ee(e),Ee(n),Ee(r)])},e.prototype.setAnchor=function(t){this._marshall(this.id,3,[je(t)])},e.prototype.setGravity=function(t){this._marshall(this.id,4,[je(t)])},e.prototype.setConstraintAdjustment=function(t){this._marshall(this.id,5,[je(t)])},e.prototype.setOffset=function(t,e){this._marshall(this.id,6,[Ee(t),Ee(e)])},e}(f));Pe.protocolName="xdg_positioner",Pe.Error={invalidInput:0},Pe.Anchor={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Pe.Gravity={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Pe.ConstraintAdjustment={none:0,slideX:1,slideY:2,flipX:4,flipY:8,resizeX:16,resizeY:32};var ke=Pe;function Te(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Se=a.uint,Ce=(a.uintOptional,a.int),De=(a.intOptional,a.fixed,a.fixedOptional,a.object),Ae=a.objectOptional,Re=(a.newObject,a.string),ze=(a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i),Le=(a.f,a.o,a.n,a.s,a.a),Me=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.setParent=function(t){this._marshall(this.id,1,[Ae(t)])},e.prototype.setTitle=function(t){this._marshall(this.id,2,[Re(t)])},e.prototype.setAppId=function(t){this._marshall(this.id,3,[Re(t)])},e.prototype.showWindowMenu=function(t,e,n,r){this._marshall(this.id,4,[De(t),Se(e),Ce(n),Ce(r)])},e.prototype.move=function(t,e){this._marshall(this.id,5,[De(t),Se(e)])},e.prototype.resize=function(t,e,n){this._marshall(this.id,6,[De(t),Se(e),Se(n)])},e.prototype.setMaxSize=function(t,e){this._marshall(this.id,7,[Ce(t),Ce(e)])},e.prototype.setMinSize=function(t,e){this._marshall(this.id,8,[Ce(t),Ce(e)])},e.prototype.setMaximized=function(){this._marshall(this.id,9,[])},e.prototype.unsetMaximized=function(){this._marshall(this.id,10,[])},e.prototype.setFullscreen=function(t){this._marshall(this.id,11,[Ae(t)])},e.prototype.unsetFullscreen=function(){this._marshall(this.id,12,[])},e.prototype.setMinimized=function(){this._marshall(this.id,13,[])},e.prototype[0]=(n=Te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(ze(e),ze(e),Le(e,!1));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Te(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.close();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f);Me.protocolName="xdg_toplevel",Me.ResizeEdge={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Me.State={maximized:1,fullscreen:2,resizing:3,activated:4};var Ne=Me;function Ue(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var Be=a.uint,Ie=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object),Fe=(a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i),Ge=(a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.grab=function(t,e){this._marshall(this.id,1,[Ie(t),Be(e)])},e.prototype[0]=(n=Ue(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Fe(e),Fe(e),Fe(e),Fe(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),e.prototype[1]=(r=Ue(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),e}(f));Ge.protocolName="xdg_popup",Ge.Error={invalidGrab:0};var We=Ge;var Ye=a.uint,He=(a.uintOptional,a.int),Ke=(a.intOptional,a.fixed,a.fixedOptional,a.object),Xe=a.objectOptional,qe=a.newObject,Ve=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),Je=(a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.getToplevel=function(){return this._marshallConstructor(this.id,1,Ne,[qe()])},e.prototype.getPopup=function(t,e){return this._marshallConstructor(this.id,2,We,[qe(),Xe(t),Ke(e)])},e.prototype.setWindowGeometry=function(t,e,n,r){this._marshall(this.id,3,[He(t),He(e),He(n),He(r)])},e.prototype.ackConfigure=function(t){this._marshall(this.id,4,[Ye(t)])},e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Ve(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f));Je.protocolName="xdg_surface",Je.Error={notConstructed:1,alreadyConstructed:2,unconfiguredBuffer:3};var Qe=Je;var Ze=a.uint,$e=(a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object),tn=(a.objectOptional,a.newObject),en=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u),nn=(a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.prototype.createPositioner=function(){return this._marshallConstructor(this.id,1,ke,[tn()])},e.prototype.getXdgSurface=function(t){return this._marshallConstructor(this.id,2,Qe,[tn(),$e(t)])},e.prototype.pong=function(t){this._marshall(this.id,3,[Ze(t)])},e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(en(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f));nn.protocolName="xdg_wm_base",nn.Error={role:0,defunctSurfaces:1,notTheTopmostPopup:2,invalidPopupParent:3,invalidSurfaceState:4,invalidPositioner:5};!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.ping=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t,e,n){},t.prototype.close=function(){}}();!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.configure=function(t,e,n,r){},t.prototype.popupDone=function(){}}();a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional;var rn=a.fileDescriptor,on=a.h,an=(a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.attach=function(t){this._marshall(this.id,0,[rn(t)])},e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.detach(on(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f));an.protocolName="gr_web_shm_buffer";var sn=an;a.uint,a.uintOptional;var cn=a.int,un=(a.intOptional,a.fixed,a.fixedOptional,a.object),fn=(a.objectOptional,a.newObject),pn=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createWebArrayBuffer=function(){return this._marshallConstructor(this.id,0,sn,[fn()])},e.prototype.createBuffer=function(t,e,n){return this._marshallConstructor(this.id,1,H,[fn(),un(t),cn(e),cn(n)])},e}(f));pn.protocolName="gr_web_shm";var ln=pn;!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.detach=function(t){}}();a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional,a.object,a.objectOptional,a.newObject,a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor;var hn=a.h,yn=(a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype[0]=(n=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offscreenCanvas(hn(e));case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=n.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return r.apply(this,arguments)}),e}(f));yn.protocolName="gr_web_gl_buffer";var dn=yn;a.uint,a.uintOptional,a.int,a.intOptional,a.fixed,a.fixedOptional;var bn=a.object,wn=(a.objectOptional,a.newObject),vn=(a.string,a.stringOptional,a.array,a.arrayOptional,a.fileDescriptorOptional,a.fileDescriptor,a.h,a.u,a.i,a.f,a.o,a.n,a.s,a.a,function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,o));return i.listener=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createWebGlBuffer=function(){return this._marshallConstructor(this.id,0,dn,[wn()])},e.prototype.createBuffer=function(t){return this._marshallConstructor(this.id,1,H,[wn(),bn(t)])},e}(f));vn.protocolName="gr_web_gl";!function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}t.prototype.offscreenCanvas=function(t){}}();var mn=u.create(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^self.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),On=new a,_n=new S(On);!function(t,e,n){var r,i,a=this,s=[];onmessage=function(r){if(!e.closed){var o=r.data;if(o.protocolMessage instanceof ArrayBuffer){var i=new Uint32Array(o.protocolMessage),a=o.meta.map((function(t){return t instanceof ArrayBuffer?n.fromArrayBuffer(t):t instanceof ImageBitmap?n.fromImageBitmap(t):t instanceof OffscreenCanvas?n.fromOffscreenCanvas(t):(console.warn("COMPOSITOR BUG? Unsupported transferable received from compositor: "+t+". WebFD will be null."),null)}));try{e.message({buffer:i,fds:a})}catch(e){t.errorHandler&&"function"==typeof t.errorHandler?t.errorHandler(e):(console.error("\tname: "+e.name+" message: "+e.message+" text: "+e.text),console.error("error object stack: "),console.error(e.stack))}}else console.error("[web-worker-client] server send an illegal message."),e.close()}},e.onFlush=(r=o.a.mark((function t(e){var n,r,i,c,u,f,p,l,h,y,d,b,w,v,m,O,_;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.push(e),!(s.length>1)){t.next=3;break}return t.abrupt("return");case 3:if(!s.length){t.next=48;break}n=s[0],r=n.reduce((function(t,e){return t+e.buffer.byteLength}),0),i=new Uint32Array(new ArrayBuffer(r)),c=0,u=[],f=n,p=Array.isArray(f),l=0,f=p?f:f[Symbol.iterator]();case 10:if(!p){t.next=16;break}if(!(l>=f.length)){t.next=13;break}return t.abrupt("break",44);case 13:h=f[l++],t.next=20;break;case 16:if(!(l=f.next()).done){t.next=19;break}return t.abrupt("break",44);case 19:h=l.value;case 20:d=(y=h).fds,b=Array.isArray(d),w=0,d=b?d:d[Symbol.iterator]();case 22:if(!b){t.next=28;break}if(!(w>=d.length)){t.next=25;break}return t.abrupt("break",39);case 25:v=d[w++],t.next=32;break;case 28:if(!(w=d.next()).done){t.next=31;break}return t.abrupt("break",39);case 31:v=w.value;case 32:return m=v,t.next=35,m.getTransferable();case 35:O=t.sent,u.push(O);case 37:t.next=22;break;case 39:_=new Uint32Array(y.buffer),i.set(_,c),c+=_.length;case 42:t.next=10;break;case 44:postMessage({protocolMessage:i.buffer,meta:u},[i.buffer].concat(u)),s.shift(),t.next=3;break;case 48:case"end":return t.stop()}}),t,a)})),i=function(){var t=r.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return i.apply(this,arguments)})}(_n,On,mn);class xn{static create(t,e,n,r){const o=new Array(e),i=new xn(o);for(let a=0;a<e;a++)o[a]=gn.create(t,n,r,i);return i}constructor(t){this._available=t,this._busy=[]}give(t){const e=this._busy.indexOf(t);e>-1&&this._busy.splice(e,1),this._available.push(t)}take(){const t=this._available.shift();return null!=t?(this._busy.push(t),t):null}}class gn{static create(t,e,n,r){const o=new ArrayBuffer(n*e*Uint32Array.BYTES_PER_ELEMENT),i=mn.fromArrayBuffer(o),a=t.createWebArrayBuffer(),s=t.createBuffer(a,e,n),c=new gn(a,s,i,o,e,n,r);return a.listener=c,s.listener=c,c}constructor(t,e,n,r,o,i,a){this.proxy=t,this.bufferProxy=e,this._pixelContent=n,this.arrayBuffer=r,this.width=o,this.height=i,this._shmBufferPool=a}attach(){this.proxy.attach(this._pixelContent)}async detach(t){this._pixelContent=t,this.arrayBuffer=await t.getTransferable()}release(){this._shmBufferPool.give(this)}}class jn{static create(t,e){const n=_n.getRegistry(),r=new jn(n,t,e);return n.listener=r,r}constructor(t,e,n){this._registry=t,this.width=e,this.height=n,this._shmBufferPool=null,this._compositor=null,this._webShm=null,this._shell=null,this._surface=null}global(t,e,n){var r;e===W.protocolName&&(this._compositor=this._registry.bind(t,e,W,n),this._surface=this._compositor.createSurface(),this._onFrame=(r=this._surface,function(){return new Promise((function(t){var e=r.frame();e.listener={done:function(n){t(n),e.destroy()}}}))})),e===ln.protocolName&&(this._webShm=this._registry.bind(t,e,ln,n),this._webShm.listener=this,this._shmBufferPool=xn.create(this._webShm,2,this.width,this.height)),e===Lt.protocolName&&(this._shell=this._registry.bind(t,e,Lt,n))}init(){this._shellSurface=this._shell.getShellSurface(this._surface),this._shellSurface.listener=this,this._shellSurface.setToplevel(),this._shellSurface.setTitle("Simple Web Shm")}_paintPixels(t,e){const n=t.width>>1,r=t.height>>1;let o,i;const a=new Uint32Array(t.arrayBuffer);i=(r<n?r:n)-8,o=i-32,i*=i,o*=o;let s=0;for(let c=0;c<t.height;c++){const u=(c-n)*(c-n);for(let n=0;n<t.width;n++){let t,f=4278190080;const p=(n-r)*(n-r)+u;t=p<o?525313*((p>>5)+(e>>6)):p<i?525313*(c+(e>>5)):525313*(n+(e>>4)),f|=(16711680&t)>>16,f|=65280&t,f|=(255&t)<<16,a[s++]=f}}}draw(t){const e=this._shmBufferPool.take();e?(this._paintPixels(e,t),e.attach(),this._surface.attach(e.bufferProxy,0,0),this._surface.damage(0,0,e.width,e.height),this._onFrame().then(t=>this.draw(t)),this._surface.commit(0)):(console.error("All buffers occupied by compositor!"),_n.close())}globalRemove(t){}configure(t,e,n){}ping(t){this._shellSurface.pong(t)}popupDone(){}}!async function(){const t=jn.create(250,250),e=_n.sync();_n.flush(),await e,t.init(),t.draw(0);try{await _n.onClose(),console.log("Application exit.")}catch(t){console.error("Application terminated with error."),console.error(t.stackTrace)}}()}]);